<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<!--
Title:			Shadows Rising RPG "Install Default" Theme 
Designed by:	Maugrim The Reaper (http://www.quantum-star.com)
Compliance:		XHTML 1.1
Optimisation:	1024x768 Resolution // Mozilla Firefox 0.8
-->

<!--Using UTF-8 as <?xml?> declaration missing to avoid IE "quirks" mode rendering. Do not remove !DOCTYPE. Ensure document is fully validated before implementing.-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>Shadows Rising RPG Install Utility</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="language" content="en" />
<link rel="stylesheet" href="themes/Default/style_default.css" type="text/css" />

{literal}
<script type="text/javascript">
            function mytip(tooltip_id)
            {
                messages= new Array()
                messages[0]="Type of the SQL database. This can be anything supported by ADOdb. <p>NOTE: only guarenteed to work with MySQL and PostgreSQL 7+ right now. You can try it if you wish with other database types and let me know how you get on.<br /><br />Please also note the database *MUST* be pre-existing. If not, please use your hosts control panel equivalent to add the database you want, or choose a database already existing for your account."
                messages[1]="Name of the SQL database. This database will be created or emptied of old Shadows Rising RPG server tables in the second part of the setup process. If you are unable/prevented from setting up new databases, you must set this to a currently existing database you have access to."
                messages[2]="Username required (if any) to connect to the database"
				messages[3]="Password required (if any) to connect to the database"
				messages[4]="Hostname of the database server. This is default, you might not have to change this."
				messages[5]="MySQL connection port. Leave blank to use the default."
				messages[6]="Check this to use database persistent connections. This can be enabled if PHP is running in its Module configuration and may allow some overhead gains on servers."
				messages[7]="Path on the filesystem where the Shadows Rising RPG files will reside."
				messages[9]="Path to the /core/maps/ folder."
				messages[11]="Decides whether an Authorization Code is emailed to the user."
				messages[12]="The full name of the server."
                messages[13]="The prefix e.g. http://mysite/shadowsrising from which all files are referenced in URLs, where /qsse/ is the folder containing all game files."
                messages[14]="Enter the full title and version of your codebase. Please note that Shadows Rising RPG falls under copyright protection. It is a requirement that the copyright is preserved, although actual location and frequency is fully optional so long as displayed somewhere! Do not alter the copyright unless code is genuinely modified. Copyright encompasses Shadows Rising RPG alone."
                messages[15]="The link to the main forum for your games. The Shadows Rising RPG Forum is highly recommended."
                messages[16]="Email address of the overall Server Administrator."
                messages[17]="The Server Administrator's password. Used to access Maints, the Install menu, Server Creation Menu and Game Management Menu. You will need this a few times in the next few minutes so remember it!!! Also please make it secure, a mixture of both uppercase letters, lowercase letters, and numerals."
				messages[18]="If running PHP in Safe Mode, using a local file to read Game Variables from will not be possible. Enable this option if Safe Mode is enabled."
				messages[19]="Path to the /core/sql/ folder. The folder contains the required SQL files to set up the various database tables. SQL files will be automatically run by the create_server.php and create_game.php scripts. You may make manual changes to these if absolutely required, or pass changes to the DB using phpMyAdmin."
				messages[20]="Option to enable HTTP Compression using gzip. The output from the PHP scripts will be compressed before sending to the browser, and uncompressed by the browser prior to rendering. The advantage is that compressed HTML is transferred faster and can help speed up access to the game pages. The second option lets you set the compression level. This ranges from the minimum of 1 to a maximum of 9. The default is 5 if this is unset."
                var w=window.open("","_blank","top=30,left=30,width=250,height=150,history=no,menubar=no,status=no,resizable=no")
                var d=w.document
                d.write("<HEAD><TITLE>Helper</TITLE><meta http-equiv=\"Content-Type\" content=\"text/html; charset=$local_charset\"><meta http-equiv=\"Pragma\" content=\"no-cache\"><link rel=\"stylesheet\" href=\"styles/style2.css\" type=\"text/css\"></HEAD>");
                d.write("<body bgcolor=\"#0A2E48\" text=\"#FFFFFF\" link=\"#00ff00\" vlink=\"#00ff00\" alink=\"#ff0000\">");
                d.write("<table border=\"0\" width=\"100%\" height=\"100%\"");
                d.write("<tr><td valign=\"top\"><small>" + messages[tooltip_id] + "</small></td></tr>")
                d.write("<tr align=\"center\"><td valign=\"bottom\"><br /><br /><input type=\"button\" value=\"Close Window\" onclick=\"window.close()\" ></td></tr></table>")
                return false;
            }

            function validate()
            {
                if (document.forms[0]._database.value == "")
                {
                    alert("Database name cannot be empty!");
                    return false;
                }
                if (document.forms[0]._gameroot.value == "")
                {
                    alert("Game Root cannot be empty!");
                    return false;
                }
                if (document.forms[0]._admin_mail.value == "")
                {
                    alert("Admin Email cannot be empty!");
                    return false;
                }
                if (document.forms[0]._adminpass.value == "")
                {
                    alert("Admin password cannot be empty!");
                    return false;
                }
                if (document.forms[0]._adminpass.value != document.forms[0].adminpass2.value)
                {
                    alert("Admin passwords don't match!");
                    return false;
                }
                if (document.forms[0]._map_path.value == "")
                {
                    alert("Map Path cannot be empty!");
                    return false;
                }
                if (document.forms[0]._url_prefix.value == "")
                {
                    alert("Url Prefix cannot be empty!");
                    return false;
                }
				if (document.forms[0]._code_base.value == "")
                {
                    alert("Code Base cannot be empty!");
                    return false;
                }
				if (document.forms[0]._link_forums.value == "")
                {
                    alert("Forum Link cannot be empty!");
                    return false;
                }
                document.forms[0].submit();
            }
            </script>
{/literal}

</head>
<body id="default_body">

<div id="pagetop_logo">
	<img src="../core/themes/Deep_Blue/images/logo.gif" alt="{$code_base}"/>
</div>

<table cellspacing="0" class="invisible">
<tr>
<td id="page_leftpanel" style="text-align: left;">
<!--This is the left side panel, for installation this is just a spacer-->




<div>
<br /><br /><br /><br />
<ol>
<li style="font-weight: bold; color: lightgreen;">Base Configuration</li>
<li>Base Server Setup</li>
<li>Installation of Server Database Tables</li>
</ol>
</div>




<!--This is the end of the left side panel-->
</td>
<td id="page_centerpanel">
<!--This is the center panel where user actions, text, and menus will appear-->

<p class="h4">{$app_name} Install Utility</p>

<p>
The first step in the installation process is to generate a configuration file for the new server. This allows {$app_name} to connect with the database and locate files on your system. There are also additional options for setting the Server Administrator Password, Server Name, Forum Link, etc.
</p>

{if $warning_count > 0}
<p style="color: red;">
The {$app_name} Install Utility has detected <span style="color: #c0c0c0;">{$warning_count}</span> warnings. These are listed at the right hand side column of this page. Please ensure these warnings are cleared before proceeding with the installation. If you feel certain these warnings are not correct, you may attempt to continue installation.
</p>
{/if}
{if $notice_count > 0}
<p style="color: orange;">
The {$app_name} Install Utility has detected <span style="color: #c0c0c0;">{$notice_count}</span> notices. These are listed at the right hand side column of this page. These are not essential to installation, but should be examined in further detail prior to operating a public game.
</p>
{/if}
{if $warning_flag == "false" && $notice_flag == "false"}
<p style="color: lightgreen;">
No warnings or notices detected. Fire up your engines, you're good to go!
</p>
{/if}


<p>
Please fill out all details. Do NOT include a final slash at the end of Paths or URLs. Path and URL options are pre-filled with values calculated for your system. In most cases it will not be necessary to alter these.
</p>

<div>
<br />
<form action="{$post_action}" method="post" id="config_form">
<table class="invisible">
	<tr>
		<td>
			Database type&nbsp;<a href='#' onclick="mytip('0')">?</a>
		</td>
		<td>
			<select tabindex="1" name="_db_type">
				{section name=i loop=$dbtypes}
					<option value="{$dbtypes[i].str}">{$dbtypes[i].name}</option>
				{/section}
			</select>
		</td>
	</tr>
	<tr>
		<td>
			Database name&nbsp;<a href='#' onclick="mytip('1')">?</a>
		</td>
		<td>
			<input tabindex=2 type=text name=_database value="{$v.2}">
		</td>
	</tr>
	<tr>
		<td>
			Database username&nbsp;<a href='#' onclick="mytip('2')">?</a>
		</td>
		<td>
			<input tabindex=3 type=text name=_database_user value="{$v.3}">
		</td>
	</tr>
	<tr>
		<td>
		Database password&nbsp;<a href='#' onclick="mytip('3')">?</a>
		</td>
		<td>
		<input tabindex=4 type=password name=_database_password value="{$v.4}">
		</td>
	</tr>
	<tr>
		<td>
		<I>Database host</I>&nbsp;<a href='#' onclick="mytip('4')">?</a>
		</td>
		<td>
		<input tabindex=5 type=text name=_database_host value="{$v.5}">
		</td>
	</tr>
	<tr>
		<td>
		<I>Database port</I>&nbsp;<a href='#' onclick="mytip('5')">?</a>
		</td>
		<td>
		<input tabindex=6 type=text name=_database_port value="{$v.6}">
		</td>
	</tr>
	<tr>
		<td>
		Database persistent connection&nbsp;<a href='#' onclick="mytip('6')">?</a>&nbsp;&nbsp;
		</td>
		<td>
		<input tabindex=7 type=checkbox name=database_persistent {$v.7}="{$v.7}" value="-1">
		</td>
	</tr>
	<tr>
		<td>
		Game root&nbsp;<a href='#' onclick="mytip('7')">?</a>
		</td>
		<td>
		<input tabindex=8 type=text size=50 name=_gameroot value="{$v.8}">
		</td>
	</tr>
	<tr>
		<td>
		Map path&nbsp;<a href='#' onclick="mytip('9')">?</a>
		</td>
		<td>
		<input tabindex=10 type=text size=50 name=_map_path value="{$v.10}">
		</td>
	</tr>
	<tr>
		<td>
		SQL path&nbsp;<a href='#' onclick="mytip('19')">?</a>
		</td>
		<td>
		<input tabindex=21 type=text size=50 name=_sql_path value="{$v.20}">
		</td>
	</tr>
	<tr>
		<td>
		Authorisation email&nbsp;<a href='#' onclick="mytip('11')">?</a>&nbsp;&nbsp;
		</td>
		<td>
		<input tabindex=12 type=checkbox name=sendmail {$v.12}="{$v.12}" value="-1">
		</td>
	</tr>
	<tr>
		<td>
		Server name&nbsp;<a href='#' onclick="mytip('12')">?</a>
		</td>
		<td>
		<input tabindex=13 type=text name=_server_name size=50 value="{$v.13}">
		</td>
	</tr>
	<tr>
		<td>
		Url prefix&nbsp;<a href='#' onclick="mytip('13')">?</a>
		</td>
		<td>
		<input tabindex=14 type=text size=50 name=_url_prefix value="{$v.14}">
		</td>
	</tr>
	<tr>
		<td>
		Code base&nbsp;<a href='#' onclick="mytip('14')">?</a>
		</td>
		<td>
		<input tabindex=15 type=text size=50 name=_code_base value="{$v.15}">
		</td>
	</tr>
	<tr>
		<td>
		Forum link&nbsp;<a href='#' onclick="mytip('15')">?</a>
		</td>
		<td>
		<input tabindex=16 type=text size=50 name=_link_forums value="{$v.16}">
		</td>
	</tr>
	<tr>
		<td>
		Server Admin email&nbsp;<a href='#' onclick="mytip('16')">?</a>
		</td>
		<td>
		<input tabindex=17 type=text name=_admin_mail value="{$v.17}">
		</td>
	</tr>
	<tr>
		<td>
		Server Admin password&nbsp;<a href='#' onclick="mytip('17')">?</a>
		</td>
		<td>
		<input tabindex=18 type=password name=_adminpass value="{$v.18}">
		</td>
	</tr>
	<tr>
		<td>
		Confirm admin password&nbsp;<a href='#' onclick="mytip('17')">?</a>
		</td>
		<td>
		<input tabindex=19 type=password name=adminpass2 value="{$v.18}">
		</td>
	</tr>
	<tr>
		<td>
		Do not read Game Vars from local file?&nbsp;<a href='#' onclick="mytip('18')">?</a>&nbsp;&nbsp;
		</td>
		<td>
		<input tabindex=20 type=checkbox name=var_source {$v.19}="{$v.19}" value="-1">
		</td>
	</tr>
	<tr>
		<td>
		Enable GZip HTTP Compression?&nbsp;<a href='#' onclick="mytip('20')">?</a>&nbsp;&nbsp;
		</td>
		<td>
		<input tabindex=21 type=checkbox name=enable_gzip {$v.21}="{$v.21}" value="-1">
		</td>
	</tr>
	<tr>
		<td>
		GZip Level (Min: 1 - Max: 9):
		</td>
		<td>
		<input tabindex=22 type=text name=_gzip_level value="{$v.22}" maxlength=1 size=1>
		</td>
	<tr>
		<td colspan="2" style="text-align: center">
		<br /><br />
		<input type=hidden name="install_step" value="2">
		<input tabindex=23 type="button" value="Submit" onclick="validate()">
		</form>
		</td>
	</tr>
</table>





<div>
<!-- Insert a little space and keep the footer low -->
<br /><br /><br /><br /><br />
<br /><br /><br /><br /><br />
<br /><br /><br /><br /><br />
<br /><br /><br /><br /><br />
</div>

<!--This is the end of the center panel-->
</td>
<td id="page_rightpanel">
<!--This is the right side panel - another spacer-->


{if $warning_flag == "true"}
	{section name=i loop=$warnings}
		<p class="h5" style="color: red;">Warning!</p>
		<p style="color: red;">
		{$warnings[i]}
		</p>
	{/section}
{/if}
{if $notice_flag == "true"}
	{section name=j loop=$notices}
		<p class="h5" style="color: orange;">Notice</p>
		<p style="color: orange;">
		{$notices[j]}
		</p>
	{/section}
{/if}
{if $warning_flag == "false" && $notice_flag == "false"}
		<p style="color: lightgreen;">
		No warnings or notices detected.
		</p>
{/if}





<!--This is the end of the right side panel-->
</td>
</tr>
<tr>
<td colspan="3" id="page_footer">
<!--This is the footer cell visible at the bottom of all pages-->

	<p>
		<br /><br /><br /><br /><br />
		{$this_version} &copy; 2004 <a onclick="window.open(this.href,'_blank');return false;" href="../docs/copyright.html">Shadows Rising Project Developers</a>
		<br />
		Default Install Theme &copy; 2004 Maugrim The Reaper and <a onclick="window.open(this.href,'_blank');return false;" href="../docs/copyright.html">Shadows Rising Project Developers</a>
		<br />
		Original Install Code &copy; 2003, 2004 <a href="../docs/tki-copyright.html" onclick="window.open(this.href,'_blank');return false;">TKI Developers</a>
		<br /><br /><br /><br /><br />
	</p>
	<div style="text-align: center;">
		<img src="../core/images/standards/valid-xhtml11.png" alt="Valid XHTML 1.1!" /><img src="../core/images/standards/vcss.png" alt="Valid CSS!" />
	</div>

<!--This is the end of the footer cell-->
</td>
</tr> 
</table>
<!--This is the end of the "holding" table created per Step Three-->

</body>
</html>